{"version":3,"file":"engine.js","sourceRoot":"","sources":["../../../../server/game/engine.js"],"names":[],"mappings":"AAAA,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACnD,MAAM,EAAE,WAAW,EAAE,kBAAkB,EAAE,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACxE,MAAM,EAAE,YAAY,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AACvD,MAAM,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAClC,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAE/B,IAAI,KAAK,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AAC9B,IAAI,WAAW,GAAG,EAAE,EAChB,aAAa,GAAG,EAAE,EAClB,EAAE,GAAG,CAAC,CAAC;AACX,IAAI,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC;AAE3B,MAAM,SAAS,GAAG,CAAC,EAAE,EAAE,YAAY,EAAE,EAAE;IACrC,uCAAuC;IACvC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,WAAW,CAAC,YAAY,CAAC,GAAG,SAAS,EAAC;QAEnF,sBAAsB;QACtB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAC;YAC/B,aAAa,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;SAC3D;QAED,WAAW,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAEvC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAEzC,IAAI,YAAY,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,YAAY,CAAC,CAAC;QAC1E,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,YAAY,CAAE,CAAC;QAErE,gCAAgC;QAChC,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE;YAEpB,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,EAAE;gBACzB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,EAChC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,EAChC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,EAChC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,EAC9C,QAAQ,GAAG,EAAE,CAAC;gBAElB,QAAQ,IAAI,EAAC;oBACX,KAAK,KAAK;wBACR,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;wBAC5B,IAAI,OAAO,GAAG,GAAG,EAAC;4BAChB,MAAM;4BACN,QAAQ,GAAG;gCACT,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gCACvB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gCACvB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;6BACxB,CAAC;yBACH;6BAAM,IAAI,OAAO,GAAG,GAAG,EAAC;4BACvB,QAAQ;4BACR,QAAQ,GAAG;gCACT,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gCACvB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gCACvB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;6BACxB,CAAC;yBACH;6BAAM;4BACL,QAAQ;4BACR,QAAQ,GAAG;gCACT,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gCACvB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gCACvB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;6BACxB,CAAC;yBACH;wBACD,MAAM;oBACR,KAAK,QAAQ,CAAC;oBACd;wBACE,QAAQ,GAAG;4BACT,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;yBACxB,CAAC;wBACF,MAAM;iBACT;gBAED,8BAA8B;gBAC9B,IAAI,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBAErG,IAAI,YAAY,GAAG,YAAY,CAAC,cAAc,CAAC,CAAC;gBAEhD,qDAAqD;gBACrD,IAAI,YAAY,GAAG,CAAC,CAAC;gBAErB,KAAK,IAAI,GAAG,IAAI,YAAY,EAAE;oBAC5B,IAAI,YAAY,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,YAAY,EAAE;wBAC1C,YAAY,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;qBACxC;iBACF;gBAED,2FAA2F;gBAC3F,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,YAAY,CAAC,KAAK,KAAK,YAAY,EAAC;oBAChE,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;iBAClG;gBAED,YAAY,GAAG,YAAY,CAAC,cAAc,CAAC,CAAC;gBAE5C,IAAI,KAAK,CAAC;gBACV,qDAAqD;gBACrD,IAAI,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,EAAC;oBACtB,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;iBACtD;qBAAM;oBACJ,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBAChH;gBAED,oEAAoE;gBACpE,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,aAAa,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,IAAI,EAAC;oBAC7D,aAAa,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;oBAEzC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;oBACjC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;oBACjC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;oBACjC,IAAI,GAAG,MAAM,CAAC;oBACd,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;iBACf;gBAED,oBAAoB;gBACpB,IAAI,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,CAAC;gBACzD,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;gBACtC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;gBACvD,EAAE,EAAE,CAAC;aACN;SACF;KACJ;AACH,CAAC,CAAC;AAEF,MAAM,cAAc,GAAG,CAAC,EAAE,EAAE,EAAE;IAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IACvB,WAAW,CAAC,GAAG,EAAE;QACf,0EAA0E;QAC1E,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QACjD,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC,EAAE;YACrD,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;SACpB;QACD,KAAK,IAAI,YAAY,IAAI,MAAM,EAAE;YAC/B,IAAI,YAAY,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,YAAY,CAAC,EAAE,CAAC,CAAC;YAC7E,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;YACjE,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE;gBACtB,SAAS,CAAC,EAAE,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC;aAChC;iBAAM;gBACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,CAAA;gBAC7D,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,YAAY,CAAC,EAAE,CAAC,CAAC;gBACvE,KAAK,CAAC,QAAQ,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC9C,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;aAC/C;SACF;IACH,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;AAClB,CAAC,CAAC;AAEF,SAAS,eAAe,CAAC,EAAE;IACzB,uDAAuD;IACvD,IAAI,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;IACnC,IAAI,MAAM,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;IAEzB,IAAI,MAAM,EAAE;QACV,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,MAAM,CAAC,OAAO,EAAE,aAAa,CAAC,EAAE;YAC9B,IAAI,aAAa,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,IAAI,aAAa,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE;gBAChF,WAAW,EAAE,CAAC;aACf;QACH,CAAC,CAAC,CAAA;QACF,OAAO,WAAW,GAAG,CAAC,CAAC;KACxB;AACH,CAAC;AAED,MAAM,CAAC,OAAO,GAAG,EAAE,cAAc,EAAE,SAAS,EAAE,eAAe,EAAE,CAAC"}